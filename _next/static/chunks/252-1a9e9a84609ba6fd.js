"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{3252:(e,t,r)=>{r.d(t,{default:()=>u});var a=r(5155),i=r(2619),n=r.n(i),o=r(5239),s=r(4269),l=r(5167),c=r(2663),d=r(2115);function u(e){var t;let{product:r,className:i="",priority:u=!1,layout:m="grid"}=e,{addItem:p,toggleCart:h}=(0,l._)(),[g,x]=(0,d.useState)(!1),[f,v]=(0,d.useState)(!1),y=async e=>{e.preventDefault(),e.stopPropagation(),x(!0);try{await new Promise(e=>setTimeout(e,600)),p(r),c.Ay.success((0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,a.jsxs)("span",{children:[r.name," added to cart!"]})]}),{duration:3e3,style:{background:"white",color:"#1f2937",borderRadius:"12px",boxShadow:"0 10px 25px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"1px solid #e5e7eb",padding:"16px"}}),setTimeout(()=>h(),1200)}catch(e){c.Ay.error("Failed to add item to cart")}finally{x(!1)}},b={"@context":"https://schema.org","@type":"Product",name:r.name,description:(0,s.QZ)(r.short_description||r.description||"").substring(0,200),sku:r.sku||r.id.toString(),image:(0,s.mG)(r),brand:{"@type":"Brand",name:"Agriko Organic Farm"},manufacturer:{"@type":"Organization",name:"Agriko Organic Farm"},offers:{"@type":"Offer",price:r.price,priceCurrency:"PHP",availability:(0,s.jg)(r)?"https://schema.org/InStock":"https://schema.org/OutOfStock",seller:{"@type":"Organization",name:"Agriko Organic Farm"},url:"https://agrikoph.com/product/".concat(r.slug)},category:(null==(t=r.categories)?void 0:t.map(e=>e.name).join(", "))||"Organic Products"},j=(0,s.jg)(r),N=(0,s.mG)(r),w=r.short_description?(0,s.QZ)(r.short_description):"",_=r.on_sale&&r.regular_price!==r.price?Math.round((parseFloat(r.regular_price)-parseFloat(r.price))/parseFloat(r.regular_price)*100):null;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(b)}}),(0,a.jsx)("article",{className:"group relative ".concat(i," animate-fadeInUp w-full"),role:"article","aria-labelledby":"product-".concat(r.id,"-name"),children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-neutral-100 hover:shadow-xl hover:border-primary-200 transition-all duration-500 ease-out overflow-hidden hover:-translate-y-2 h-full flex flex-col relative min-h-[480px]",children:[r.featured&&(0,a.jsxs)("div",{className:"absolute top-4 left-4 z-10 bg-gradient-to-r from-amber-400 to-amber-500 text-amber-900 px-3 py-1 text-xs font-bold rounded-full shadow-lg flex items-center space-x-1",children:[(0,a.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),(0,a.jsx)("span",{children:"Premium"})]}),(0,a.jsx)(n(),{href:"/product/".concat(r.slug),className:"block relative",children:(0,a.jsxs)("div",{className:"relative aspect-square bg-gradient-to-br from-neutral-50 to-neutral-100 overflow-hidden group-hover:from-primary-50 group-hover:to-primary-100 transition-colors duration-500",children:[!f&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent animate-pulse",children:(0,a.jsx)("div",{className:"absolute inset-0 bg-neutral-200 animate-shimmer"})}),(0,a.jsx)(o.default,{src:N,alt:r.name,fill:!0,className:"object-cover transition-all duration-700 ease-out ".concat(f?"opacity-100 group-hover:scale-110":"opacity-0"),sizes:"(max-width: 768px) 50vw, (max-width: 1200px) 33vw, 25vw",priority:u,onLoad:()=>v(!0)}),r.on_sale&&_&&(0,a.jsxs)("div",{className:"absolute top-4 right-4 bg-gradient-to-r from-red-500 to-red-600 text-white px-3 py-1 text-sm font-bold rounded-full shadow-lg transform -rotate-3 group-hover:rotate-0 transition-transform duration-300",children:["-",_,"%"]}),!j&&(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:(0,a.jsx)("div",{className:"bg-white text-neutral-900 px-4 py-2 rounded-full font-semibold shadow-lg",children:"Out of Stock"})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300 flex items-center justify-center",children:(0,a.jsx)("div",{className:"opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-4 group-hover:translate-y-0",children:(0,a.jsx)("div",{className:"bg-white/90 backdrop-blur-sm text-neutral-900 px-4 py-2 rounded-full font-medium shadow-lg border",children:"Quick View"})})})]})}),(0,a.jsxs)("div",{className:"p-6 flex-1 flex flex-col",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-3 min-h-[2rem]",children:r.categories&&r.categories.length>0&&r.categories.slice(0,1).map(e=>(0,a.jsx)("span",{className:"inline-block bg-green-50 text-green-700 text-xs font-medium px-2 py-1 rounded-full border border-green-100",children:e.name},e.id))}),(0,a.jsxs)(n(),{href:"/product/".concat(r.slug),className:"block flex-1","aria-label":"View details for ".concat(r.name),children:[(0,a.jsx)("h3",{id:"product-".concat(r.id,"-name"),className:"text-lg font-semibold text-neutral-900 mb-3 line-clamp-2 leading-tight group-hover:text-primary-700 transition-colors duration-200 min-h-[3.5rem]",children:r.name}),(0,a.jsx)("div",{className:"min-h-[4.5rem] mb-4",children:w&&(0,a.jsx)("p",{id:"product-".concat(r.id,"-description"),className:"text-neutral-600 text-sm line-clamp-3 leading-relaxed",children:w})})]}),(0,a.jsxs)("div",{className:"mt-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"flex items-center space-x-2",children:r.on_sale&&r.regular_price!==r.price?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-xl font-bold text-primary-700",children:(0,s.$g)(r.price)}),(0,a.jsx)("span",{className:"text-sm text-neutral-500 line-through",children:(0,s.$g)(r.regular_price)})]}):(0,a.jsx)("span",{className:"text-xl font-bold text-neutral-900",children:(0,s.$g)(r.price)})}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 ".concat(j?"bg-green-400":"bg-red-400")}),(0,a.jsx)("span",{className:"text-xs font-medium ".concat(j?"text-green-700":"text-red-700"),children:j?"In Stock":"Out of Stock"})]})]}),j&&(0,a.jsx)("button",{onClick:y,disabled:g,className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 disabled:from-neutral-400 disabled:to-neutral-500 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-300 transform hover:-translate-y-0.5 hover:shadow-lg disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2 group/button active:animate-jiggle hover:animate-glow product-action-btn","aria-label":"Add ".concat(r.name," to shopping cart"),"aria-describedby":"product-".concat(r.id,"-description"),"aria-disabled":!j||g,children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,a.jsx)("span",{children:"Adding..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("svg",{className:"w-4 h-4 group-hover/button:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5"})}),(0,a.jsx)("span",{children:"Add to Cart"})]})})]})]})]})})]})}},4269:(e,t,r)=>{function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PHP",r="string"==typeof e?parseFloat(e):e;return isNaN(r)||null==r?"N/A":new Intl.NumberFormat("en-PH",{style:"currency",currency:t}).format(r)}function i(e){return"instock"===e.stock_status&&(!e.manage_stock||null!==e.stock_quantity&&e.stock_quantity>0)}function n(e){return e.images&&e.images.length>0?e.images[0].src:"/placeholder-product.jpg"}function o(e){return e.replace(/<[^>]*>/g,"").replace(/&[^;]+;/g,"")}function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.flat().filter(Boolean).join(" ").trim()}r.d(t,{$g:()=>a,QZ:()=>o,cn:()=>s,jg:()=>i,mG:()=>n})},5167:(e,t,r)=>{r.d(t,{CartProvider:()=>d,_:()=>c});var a=r(5155),i=r(2115);let n={items:[],isOpen:!1,total:0,itemCount:0},o=e=>({total:e.reduce((e,t)=>e+(parseFloat(t.product.price)||0)*t.quantity,0),itemCount:e.reduce((e,t)=>e+t.quantity,0)}),s=(e,t)=>{switch(t.type){case"ADD_ITEM":{let r,{product:a,quantity:i=1,variation:n}=t.payload,s=e.items.findIndex(e=>e.product.id===a.id&&JSON.stringify(e.variation)===JSON.stringify(n)),{total:l,itemCount:c}=o(r=s>=0?e.items.map((e,t)=>t===s?{...e,quantity:e.quantity+i}:e):[...e.items,{product:a,quantity:i,variation:n}]);return{...e,items:r,total:l,itemCount:c}}case"REMOVE_ITEM":{let{productId:r,variationId:a}=t.payload,i=e.items.filter(e=>{var t;return e.product.id!==r||void 0!==a&&(null==(t=e.variation)?void 0:t.id)!==a}),{total:n,itemCount:s}=o(i);return{...e,items:i,total:n,itemCount:s}}case"UPDATE_QUANTITY":{let{productId:r,quantity:a,variationId:i}=t.payload;if(a<=0)return s(e,{type:"REMOVE_ITEM",payload:{productId:r,variationId:i}});let n=e.items.map(e=>{var t;return e.product.id===r&&(void 0===i||(null==(t=e.variation)?void 0:t.id)===i)?{...e,quantity:a}:e}),{total:l,itemCount:c}=o(n);return{...e,items:n,total:l,itemCount:c}}case"CLEAR_CART":return{...e,items:[],total:0,itemCount:0};case"TOGGLE_CART":return{...e,isOpen:!e.isOpen};case"OPEN_CART":return{...e,isOpen:!0};case"CLOSE_CART":return{...e,isOpen:!1};case"LOAD_CART":let{total:r,itemCount:a}=o(t.payload);return{...e,items:t.payload,total:r,itemCount:a};default:return e}},l=(0,i.createContext)(void 0),c=()=>{let e=(0,i.useContext)(l);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e},d=e=>{let{children:t}=e,[r,o]=(0,i.useReducer)(s,n);return(0,i.useEffect)(()=>{try{let e=localStorage.getItem("agriko-cart");if(e){let t=JSON.parse(e);o({type:"LOAD_CART",payload:t})}}catch(e){console.error("Error loading cart from localStorage:",e)}},[]),(0,i.useEffect)(()=>{try{localStorage.setItem("agriko-cart",JSON.stringify(r.items))}catch(e){console.error("Error saving cart to localStorage:",e)}},[r.items]),(0,a.jsx)(l.Provider,{value:{state:r,addItem:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0;o({type:"ADD_ITEM",payload:{product:e,quantity:t,variation:r}})},removeItem:(e,t)=>{o({type:"REMOVE_ITEM",payload:{productId:e,variationId:t}})},updateQuantity:(e,t,r)=>{o({type:"UPDATE_QUANTITY",payload:{productId:e,quantity:t,variationId:r}})},clearCart:()=>{o({type:"CLEAR_CART"})},toggleCart:()=>{o({type:"TOGGLE_CART"})},openCart:()=>{o({type:"OPEN_CART"})},closeCart:()=>{o({type:"CLOSE_CART"})},isInCart:(e,t)=>r.items.some(r=>{var a;return r.product.id===e&&(void 0===t||(null==(a=r.variation)?void 0:a.id)===t)}),getItemQuantity:(e,t)=>{let a=r.items.find(r=>{var a;return r.product.id===e&&(void 0===t||(null==(a=r.variation)?void 0:a.id)===t)});return a?a.quantity:0}},children:t})}}}]);