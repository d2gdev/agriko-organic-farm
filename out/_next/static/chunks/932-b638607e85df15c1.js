"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[932],{63:(e,r,t)=>{var a=t(7260);t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},2062:(e,r,t)=>{t.d(r,{A:()=>o});var a=t(5155),n=t(2115),i=t(4269),s=t(7101);function o(e){var r,t;let{products:o,filters:l,onFiltersChange:c,className:d}=e,[u,m]=(0,n.useState)(!1),[p,x]=(0,n.useState)({min:(null==(r=l.minPrice)?void 0:r.toString())||"",max:(null==(t=l.maxPrice)?void 0:t.toString())||""}),h=Array.from(new Set(o.flatMap(e=>{var r;return(null==(r=e.categories)?void 0:r.map(e=>e.name))||[]}))).sort(),g=o.map(e=>parseFloat(e.price)).filter(e=>!isNaN(e)),f=Math.min(...g),v=Math.max(...g);(0,n.useEffect)(()=>{var e,r;x({min:(null==(e=l.minPrice)?void 0:e.toString())||"",max:(null==(r=l.maxPrice)?void 0:r.toString())||""})},[l.minPrice,l.maxPrice]);let y=(e,r)=>{c({...l,[e]:r})},b=Object.keys(l).length>0;return(0,a.jsxs)("div",{className:(0,i.cn)("bg-white rounded-xl shadow-sm border border-neutral-200",d),children:[(0,a.jsx)("div",{className:"p-4 border-b border-neutral-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-neutral-900 flex items-center space-x-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.707A1 1 0 013 7V4z"})}),(0,a.jsx)("span",{children:"Filters"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[b&&(0,a.jsx)(s.default,{variant:"ghost",size:"sm",onClick:()=>{c({}),x({min:"",max:""})},className:"text-neutral-600 hover:text-neutral-900",children:"Clear All"}),(0,a.jsx)("button",{onClick:()=>m(!u),className:"lg:hidden p-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg transition-colors","aria-label":u?"Collapse filters":"Expand filters",children:(0,a.jsx)("svg",{className:(0,i.cn)("w-5 h-5 transition-transform duration-200",u&&"rotate-180"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})}),(0,a.jsx)("div",{className:(0,i.cn)("lg:block",!u&&"hidden",u&&"block"),children:(0,a.jsxs)("div",{className:"p-4 space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-neutral-900",children:"Sort By"}),(0,a.jsxs)("select",{value:l.sortBy||"",onChange:e=>y("sortBy",e.target.value||void 0),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[(0,a.jsx)("option",{value:"",children:"Default"}),(0,a.jsx)("option",{value:"name",children:"Name (A-Z)"}),(0,a.jsx)("option",{value:"price_low",children:"Price (Low to High)"}),(0,a.jsx)("option",{value:"price_high",children:"Price (High to Low)"}),(0,a.jsx)("option",{value:"newest",children:"Newest First"}),(0,a.jsx)("option",{value:"popularity",children:"Most Popular"})]})]}),h.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-neutral-900",children:"Category"}),(0,a.jsxs)("select",{value:l.category||"",onChange:e=>y("category",e.target.value||void 0),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[(0,a.jsx)("option",{value:"",children:"All Categories"}),h.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),g.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-neutral-900",children:"Price Range"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"number",placeholder:"Min (₱".concat(f,")"),value:p.min,onChange:e=>x(r=>({...r,min:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",min:f,max:v})}),(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"number",placeholder:"Max (₱".concat(v,")"),value:p.max,onChange:e=>x(r=>({...r,max:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",min:f,max:v})})]}),(0,a.jsx)(s.default,{variant:"secondary",size:"sm",onClick:()=>{let e=p.min?parseFloat(p.min):void 0,r=p.max?parseFloat(p.max):void 0;c({...l,minPrice:e,maxPrice:r})},className:"w-full",children:"Apply Price Range"})]}),(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:l.inStock||!1,onChange:e=>y("inStock",e.target.checked||void 0),className:"w-4 h-4 text-primary-600 border-neutral-300 rounded focus:ring-primary-500 focus:ring-2"}),(0,a.jsx)("span",{className:"text-sm text-neutral-700",children:"In Stock Only"})]})})]})}),b&&(0,a.jsx)("div",{className:"p-4 border-t border-neutral-200 bg-neutral-50",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[l.category&&(0,a.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:[l.category,(0,a.jsx)("button",{onClick:()=>y("category",void 0),className:"ml-2 text-primary-600 hover:text-primary-800","aria-label":"Remove ".concat(l.category," filter"),children:"\xd7"})]}),(l.minPrice||l.maxPrice)&&(0,a.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:["₱",l.minPrice||0," - ₱",l.maxPrice||"∞",(0,a.jsx)("button",{onClick:()=>{y("minPrice",void 0),y("maxPrice",void 0)},className:"ml-2 text-primary-600 hover:text-primary-800","aria-label":"Remove price filter",children:"\xd7"})]}),l.sortBy&&(0,a.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:["Sort: ",l.sortBy.replace("_"," "),(0,a.jsx)("button",{onClick:()=>y("sortBy",void 0),className:"ml-2 text-primary-600 hover:text-primary-800","aria-label":"Remove sort filter",children:"\xd7"})]}),l.inStock&&(0,a.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:["In Stock",(0,a.jsx)("button",{onClick:()=>y("inStock",void 0),className:"ml-2 text-primary-600 hover:text-primary-800","aria-label":"Remove in stock filter",children:"\xd7"})]})]})})]})}},6726:(e,r,t)=>{t.d(r,{I:()=>n});var a=t(2115);function n(e){let{products:r,initialFilters:t={}}=e,[n,i]=(0,a.useState)(t),[s,o]=(0,a.useState)(""),l=(0,a.useMemo)(()=>{let e=[...r];if(s.trim()){let r=s.toLowerCase().trim();e=e.filter(e=>{var t,a,n;return e.name.toLowerCase().includes(r)||e.description.toLowerCase().includes(r)||(null==(t=e.short_description)?void 0:t.toLowerCase().includes(r))||(null==(a=e.categories)?void 0:a.some(e=>e.name.toLowerCase().includes(r)))||(null==(n=e.tags)?void 0:n.some(e=>e.name.toLowerCase().includes(r)))})}return n.category&&(e=e.filter(e=>{var r;return null==(r=e.categories)?void 0:r.some(e=>e.name===n.category)})),void 0!==n.minPrice&&(e=e.filter(e=>{let r=parseFloat(e.price);return!isNaN(r)&&r>=n.minPrice})),void 0!==n.maxPrice&&(e=e.filter(e=>{let r=parseFloat(e.price);return!isNaN(r)&&r<=n.maxPrice})),n.inStock&&(e=e.filter(e=>"instock"===e.stock_status&&(void 0===e.stock_quantity||null===e.stock_quantity||e.stock_quantity>0))),n.sortBy&&e.sort((e,r)=>{switch(n.sortBy){case"name":return e.name.localeCompare(r.name);case"price_low":return parseFloat(e.price)-parseFloat(r.price);case"price_high":return parseFloat(r.price)-parseFloat(e.price);case"newest":return new Date(r.date_created||0).getTime()-new Date(e.date_created||0).getTime();case"popularity":let t=(e.rating_count||0)*parseFloat(e.average_rating||"0");return(r.rating_count||0)*parseFloat(r.average_rating||"0")-t;default:return 0}}),e},[r,n,s]),c=(0,a.useMemo)(()=>{let e=r.length,t=l.length,a=Array.from(new Set(r.flatMap(e=>{var r;return(null==(r=e.categories)?void 0:r.map(e=>e.name))||[]}))).sort(),n=r.map(e=>parseFloat(e.price)).filter(e=>!isNaN(e)),i=n.length>0?{min:Math.min(...n),max:Math.max(...n)}:{min:0,max:0},s=r.filter(e=>"instock"===e.stock_status&&(void 0===e.stock_quantity||null===e.stock_quantity||e.stock_quantity>0)).length;return{totalProducts:e,filteredCount:t,categories:a,priceRange:i,inStockCount:s,outOfStockCount:e-s}},[r,l]),d=Object.keys(n).length>0||s.trim().length>0;return{filters:n,searchQuery:s,filteredProducts:l,filterStats:c,hasActiveFilters:d,setFilters:i,setSearchQuery:o,updateFilter:(e,r)=>{i(t=>({...t,[e]:r}))},resetFilters:()=>{i({}),o("")},getProductsByCategory:e=>r.filter(r=>{var t;return null==(t=r.categories)?void 0:t.some(r=>r.name===e)}),getProductsInPriceRange:(e,t)=>r.filter(r=>{let a=parseFloat(r.price);return!isNaN(a)&&a>=e&&a<=t}),searchProducts:e=>r.filter(r=>{var t;return r.name.toLowerCase().includes(e.toLowerCase())||r.description.toLowerCase().includes(e.toLowerCase())||(null==(t=r.short_description)?void 0:t.toLowerCase().includes(e.toLowerCase()))})}}},7101:(e,r,t)=>{t.d(r,{default:()=>o});var a=t(5155),n=t(2115),i=t(4269);let s=(0,n.forwardRef)((e,r)=>{let{variant:t="primary",size:n="md",children:s,className:o,loading:l=!1,disabled:c,fullWidth:d=!1,leftIcon:u,rightIcon:m,type:p="button",...x}=e,h=[d&&"w-full",l&&"cursor-wait"].filter(Boolean),g=(0,i.cn)(["inline-flex items-center justify-center font-semibold","transition-all duration-300 ease-out","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none","rounded-xl","relative overflow-hidden","focus-visible:ring-2 focus-visible:ring-primary-500","touch-manipulation"],{primary:["bg-gradient-to-r from-primary-600 to-primary-700","hover:from-primary-700 hover:to-primary-800","text-white shadow-lg hover:shadow-xl","focus:ring-primary-500","transform hover:-translate-y-0.5","active:animate-jiggle"],secondary:["bg-white border-2 border-primary-600","text-primary-600 hover:bg-primary-50","hover:border-primary-700 hover:text-primary-700","focus:ring-primary-500","shadow-md hover:shadow-lg","transform hover:-translate-y-0.5"],tertiary:["bg-neutral-100 text-neutral-700","hover:bg-neutral-200 hover:text-neutral-800","focus:ring-neutral-500","shadow-sm hover:shadow-md"],danger:["bg-gradient-to-r from-red-600 to-red-700","hover:from-red-700 hover:to-red-800","text-white shadow-lg hover:shadow-xl","focus:ring-red-500","transform hover:-translate-y-0.5"],ghost:["bg-transparent text-neutral-600","hover:bg-neutral-100 hover:text-neutral-700","focus:ring-neutral-500"]}[t],{sm:["px-3 py-2 text-sm min-h-[36px] gap-2"],md:["px-4 py-3 text-base min-h-[44px] gap-2"],lg:["px-6 py-4 text-lg min-h-[52px] gap-3"],xl:["px-8 py-5 text-xl min-h-[60px] gap-3"]}[n],...h,o);return(0,a.jsxs)("button",{ref:r,type:p,className:g,disabled:c||l,...x,children:[l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(()=>(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),{}),(0,a.jsx)("span",{children:"Loading..."})]}):(0,a.jsxs)(a.Fragment,{children:[u&&(0,a.jsx)("span",{className:"flex-shrink-0",children:u}),(0,a.jsx)("span",{children:s}),m&&(0,a.jsx)("span",{className:"flex-shrink-0",children:m})]}),!c&&!l&&(0,a.jsx)("span",{className:"absolute inset-0 bg-white/20 rounded-xl opacity-0 hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]})});s.displayName="Button";let o=s,l=e=>{let r=(0,n.forwardRef)((r,t)=>(0,a.jsx)(s,{ref:t,...e,...r}));return r.displayName="ButtonVariant",r};l({variant:"primary"}),l({variant:"secondary"}),l({variant:"danger"}),l({variant:"ghost"})}}]);